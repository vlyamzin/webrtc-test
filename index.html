<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WebRTC Test</title>

    <style>
        #peerjs-ctrls>*,
        #twilio-ctrls>* {
            display: inline-block;
        }

        #start-connection {
            margin-left: 10px;
        }

        #received-content {
            width: 640px;
            height: 480px;
            margin-top: 20px;
            background-color: #000;
        }

        .hidden {
            display: none;
        }
    </style>

    <link rel="stylesheet" href="src/styles.css">

    <script src="https://unpkg.com/peerjs@1.3.1/dist/peerjs.min.js"></script>
    <script src="//sdk.twilio.com/js/video/releases/2.18.1/twilio-video.min.js"></script>
</head>

<body>
    <div>
        <label for="twilio">Use Twilio</label>
        <input type="checkbox" name="twilio" id="twilio">
    </div>

    <div id="peerjs-ctrls">
        <label for="input-id">Connection id</label>
        <input type="text" name="input-id" id="input-id">
        <button id="start-connection">Connect</button>
    </div>

    <div id="twilio-ctrls" class="hidden">
        <label for="twilio-token">Participant Token</label>
        <input type="text" name="twilio-token" id="twilio-token">
        <label for="twilio-room">Room Name</label>
        <input type="text" name="twilio-room" id="twilio-room">
        <button id="twilio-connect">Connect</button>
    </div>

    <div id="connection-status">
        Connection status: <span></span>
    </div>

    <!-- <iframe id="iframe-01" src="presentations/1.html" frameborder="0"></iframe> -->
    <img src="https://images.unsplash.com/photo-1528459135417-42dfc609ce87?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1000&q=80"
        alt="picture">

    <div id='buttons'>
        <!-- <button onclick="nextSlide()" id="nextSlide">Next Slide</button> -->
        <button id="start-sharing">Start sharing</button>
    </div>

    <canvas id="sharingScreen"></canvas>

    <script>
        let i = 2;
        function nextSlide() {
            const iFrame = document.querySelector("#iframe-01");
            iFrame.setAttribute("src", `presentations/${i}.html`);
            i++;
            if (i === 7) i = 2;
        }
    </script>
    <script src="src/screensharing.js" type="module"></script>

</html>